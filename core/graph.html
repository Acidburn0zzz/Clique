<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Graph class &mdash; Clique 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="Clique 0.1 documentation" href="../index.html" />
    <link rel="up" title="Core functionality" href="../core.html" />
    <link rel="next" title="The DistGraph class" href="dist_graph.html" />
    <link rel="prev" title="Environment" href="environment.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Clique 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>The Graph class</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="environment.html">Environment</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="dist_graph.html">The DistGraph class</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="the-graph-class">
<h1>The Graph class<a class="headerlink" href="#the-graph-class" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#Graph__class" title="Graph"><tt class="xref cpp cpp-type docutils literal"><span class="pre">Graph</span></tt></a> class is primarily used under-the-hood in Clique for
graph partitioning and as the primary component of the
<a class="reference internal" href="sparse_matrix.html#SparseMatrix:T:__class" title="SparseMatrix&lt;T&gt;"><tt class="xref cpp cpp-type docutils literal"><span class="pre">SparseMatrix&lt;T&gt;</span></tt></a> class.
Nevertheless, it is possible to work directly with graphs in Clique. The usage
is extremely similar to the <a class="reference internal" href="sparse_matrix.html#SparseMatrix:T:__class" title="SparseMatrix&lt;T&gt;"><tt class="xref cpp cpp-type docutils literal"><span class="pre">SparseMatrix&lt;T&gt;</span></tt></a> class, and so the
construction of the graph corresponding to the 7-point stencil over a
<span class="math">\(n_1 \times n_2 \times n_3\)</span> grid is briefly demonstrated below:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">Graph</span> <span class="nf">graph</span><span class="p">(</span> <span class="n">N</span> <span class="p">);</span>
<span class="n">graph</span><span class="p">.</span><span class="n">StartAssembly</span><span class="p">();</span>
<span class="n">graph</span><span class="p">.</span><span class="n">Reserve</span><span class="p">(</span> <span class="mi">7</span><span class="o">*</span><span class="n">N</span> <span class="p">);</span>
<span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">n1</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="n">n1</span><span class="p">)</span> <span class="o">%</span> <span class="n">n2</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">n1</span><span class="o">*</span><span class="n">n2</span><span class="p">);</span>

    <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">n1</span><span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="n">n1</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">y</span> <span class="o">!=</span> <span class="n">n2</span><span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="n">n1</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">z</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="n">n1</span><span class="o">*</span><span class="n">n2</span> <span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">z</span> <span class="o">!=</span> <span class="n">n3</span><span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="n">graph</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="n">n1</span><span class="o">*</span><span class="n">n2</span> <span class="p">);</span>
<span class="p">}</span>
<span class="n">graph</span><span class="p">.</span><span class="n">StopAssembly</span><span class="p">();</span>
</pre></div>
</div>
<p>The basic pattern is to wrap the entire assembly process with the
<a class="reference internal" href="#Graph::StartAssembly" title="Graph::StartAssembly"><tt class="xref cpp cpp-func docutils literal"><span class="pre">Graph::StartAssembly()</span></tt></a> and <a class="reference internal" href="#Graph::StopAssembly" title="Graph::StopAssembly"><tt class="xref cpp cpp-func docutils literal"><span class="pre">Graph::StopAssembly()</span></tt></a> member
functions, to reserve space for
all of the edges in the graph with the <a class="reference internal" href="#Graph::Reserve__i" title="Graph::Reserve"><tt class="xref cpp cpp-func docutils literal"><span class="pre">Graph::Reserve()</span></tt></a> function,
and then to add edges into the graph in various locations.</p>
<p>After finishing assembly, redundant edges are deleted and the edges are sorted
lexicographically based upon the source and target indices (respectively).
In the language of matrices, the <em>source</em> is the row index, and the <em>target</em>
is the column index.</p>
<dl class="type">
<dt id="Graph__class">
<em class="property">type </em>class <tt class="descname">Graph</tt><a class="headerlink" href="#Graph__class" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Constructors</p>
<dl class="function">
<dt id="Graph::Graph">
 <tt class="descname">Graph</tt><big>(</big><big>)</big><a class="headerlink" href="#Graph::Graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an empty graph with zero vertices.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Graph__i">
 <tt class="descname">Graph</tt><big>(</big>int <em>numVertices</em><big>)</big><a class="headerlink" href="#Graph::Graph__i" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an empty graph with <cite>numVertices</cite> vertices.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Graph__i.i">
 <tt class="descname">Graph</tt><big>(</big>int <em>numSources</em>, int <em>numTargets</em><big>)</big><a class="headerlink" href="#Graph::Graph__i.i" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an empty graph with <cite>numSources</cite> source vertices and
<cite>numTargets</cite> target vertices: this is analogous to creating an empty
<cite>numSources</cite> <span class="math">\(\times\)</span> <cite>numTargets</cite> sparse matrix.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Graph__GraphCR">
 <tt class="descname">Graph</tt><big>(</big><a class="reference internal" href="#Graph__class" title="Graph">const Graph&amp;</a> <em>graph</em><big>)</big><a class="headerlink" href="#Graph::Graph__GraphCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a copy of the given graph.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Graph__DistGraphCR">
 <tt class="descname">Graph</tt><big>(</big><a class="reference internal" href="dist_graph.html#DistGraph__class" title="DistGraph">const DistGraph&amp;</a> <em>graph</em><big>)</big><a class="headerlink" href="#Graph::Graph__DistGraphCR" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The distributed graph can only be distributed over a single process.</p>
</div>
<p>Converts a trivial distributed graph into an explicitly local graph.</p>
</dd></dl>

<p class="rubric">High-level information</p>
<dl class="function">
<dt id="Graph::NumSourcesC">
int <tt class="descname">NumSources</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::NumSourcesC" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of source vertices in the graph; this is analogous to the
height of a sparse matrix.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::NumTargetsC">
int <tt class="descname">NumTargets</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::NumTargetsC" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of target vertices in the graph; this is analogous to the
width of a sparse matrix.</p>
</dd></dl>

<p class="rubric">Assembly-related routines</p>
<dl class="function">
<dt id="Graph::StartAssembly">
void <tt class="descname">StartAssembly</tt><big>(</big><big>)</big><a class="headerlink" href="#Graph::StartAssembly" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be called before inserting any edges into the graph.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::StopAssembly">
void <tt class="descname">StopAssembly</tt><big>(</big><big>)</big><a class="headerlink" href="#Graph::StopAssembly" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be called after all edges have been inserted into the graph,
as it handles converting the edges into the proper internal format.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Reserve__i">
void <tt class="descname">Reserve</tt><big>(</big>int <em>numEdges</em><big>)</big><a class="headerlink" href="#Graph::Reserve__i" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine should be given an upper bound on the number of edges that
will be inserted into the graph so that a sufficient amount of memory
can be allocated to store all of the edge information.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Insert__i.i">
void <tt class="descname">Insert</tt><big>(</big>int <em>source</em>, int <em>target</em><big>)</big><a class="headerlink" href="#Graph::Insert__i.i" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts an edge starting from the specified source vertex which ends
at the target vertex.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::CapacityC">
int <tt class="descname">Capacity</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::CapacityC" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of edges which can be stored before a memory allocation
(including current edges).</p>
</dd></dl>

<p class="rubric">Data</p>
<dl class="function">
<dt id="Graph::NumEdgesC">
int <tt class="descname">NumEdges</tt><big>(</big><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::NumEdgesC" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of edges which have been inserted into the graph.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Source__iC">
int <tt class="descname">Source</tt><big>(</big>int <em>edge</em><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::Source__iC" title="Permalink to this definition">¶</a></dt>
<dd><p>The source vertex of the specified edge.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::Target__iC">
int <tt class="descname">Target</tt><big>(</big>int <em>edge</em><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::Target__iC" title="Permalink to this definition">¶</a></dt>
<dd><p>The target vertex of the specified edge.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::EdgeOffset__iC">
int <tt class="descname">EdgeOffset</tt><big>(</big>int <em>source</em><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::EdgeOffset__iC" title="Permalink to this definition">¶</a></dt>
<dd><p>The first edge which begins at a source vertex with an equal or greater
index (assuming it exists).</p>
</dd></dl>

<dl class="function">
<dt id="Graph::NumConnections__iC">
int <tt class="descname">NumConnections</tt><big>(</big>int <em>source</em><big>)</big><tt class="descclassname"> const</tt><a class="headerlink" href="#Graph::NumConnections__iC" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of edges which start from the specified source vertex.</p>
</dd></dl>

<p class="rubric">For modifying the size of the graph</p>
<dl class="function">
<dt id="Graph::Empty">
void <tt class="descname">Empty</tt><big>(</big><big>)</big><a class="headerlink" href="#Graph::Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Frees all resources and modified this graph to have zero vertices.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::ResizeTo__i">
void <tt class="descname">ResizeTo</tt><big>(</big>int <em>numVertices</em><big>)</big><a class="headerlink" href="#Graph::ResizeTo__i" title="Permalink to this definition">¶</a></dt>
<dd><p>Frees all resources and modifies this graph to have <cite>numVertices</cite>
vertices.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::ResizeTo__i.i">
void <tt class="descname">ResizeTo</tt><big>(</big>int <em>numSources</em>, int <em>numTargets</em><big>)</big><a class="headerlink" href="#Graph::ResizeTo__i.i" title="Permalink to this definition">¶</a></dt>
<dd><p>Frees all resources and modifies this graph to have <cite>numSources</cite>
source vertices and <cite>numTargets</cite> target vertices.</p>
</dd></dl>

<p class="rubric">For copying one graph into another</p>
<dl class="function">
<dt id="Graph::assign-operator__GraphCR">
<a class="reference internal" href="#Graph__class" title="Graph">const Graph&amp;</a> <tt class="descname">operator=</tt><big>(</big><a class="reference internal" href="#Graph__class" title="Graph">const Graph&amp;</a> <em>graph</em><big>)</big><a class="headerlink" href="#Graph::assign-operator__GraphCR" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this graph equal to the given graph.</p>
</dd></dl>

<dl class="function">
<dt id="Graph::assign-operator__DistGraphCR">
<a class="reference internal" href="#Graph__class" title="Graph">const Graph&amp;</a> <tt class="descname">operator=</tt><big>(</big><a class="reference internal" href="dist_graph.html#DistGraph__class" title="DistGraph">const DistGraph&amp;</a> <em>graph</em><big>)</big><a class="headerlink" href="#Graph::assign-operator__DistGraphCR" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The distributed graph can only be distributed over a single process.</p>
</div>
<p>Sets this graph equal to the given graph.</p>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="environment.html">Environment</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="dist_graph.html">The DistGraph class</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Jack Poulson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>